{% extends "base.html" %}

{% block title %}Edit Post | Llama Log{% endblock %}

{% block header %}Edit
    {% if "equipment" in post %}
        Work Order
    {% else %}
        Incident
    {% endif %}
{% endblock %}

{% block content %}

<form method="POST" action="{{ url_for('user.edit_post', post_id=post['_id'])}}">

    <div class="field">
        <label for="title" class="label">Title</label>
        <div class="control has-icons-left has-icons-right">
            <input class="input is-success" id="title" name="title" type="text" 
            placeholder="Enter Work Order Title" value="{{ post.title }}">
            <span class="icon is-small is-left">
                <i class="fas fa-user"></i>
            </span>
            <span class="icon is-small is-right">
                <i class="fas fa-check"></i>
            </span>
        </div>
    </div>

    {% if "equipment" in post %}

        <div class="field">
            <label for="equipment" class="label">Equipment</label>
            <div class="control has-icons-left has-icons-right">
                <input class="input is-success" id="equipment" name="equipment" type="text" 
                placeholder="Enter Equipment" value="{{ post.equipment }}">
                <span class="icon is-small is-left">
                    <i class="fas fa-user"></i>
                </span>
                <span class="icon is-small is-right">
                    <i class="fas fa-check"></i>
                </span>
            </div>
        </div>

    {% else %}
        
    <div class="field">
        <label for="customer_name" class="label customer">Customer Name</label>
        <div class="control has-icons-left has-icons-right">
            <input class="input is-success" id="customer_name" name="customer_name" type="text" 
            placeholder="Enter Customer's Full Name" value="{{ post.customer_name }}">
            <span class="icon is-small is-left">
              <i class="fas fa-user-tag"></i>
            </span>
            <span class="icon is-small is-right">
                <i class="fas fa-check"></i>
            </span>
        </div>
    </div>

    <div class="field">
        <label for="customer_phone" class="label customer">Customer Phone</label>
        <div class="control has-icons-left has-icons-right">
            <input class="input is-success" id="customer_phone" name="customer_phone" type="number" 
            placeholder="Enter Customer's Phone Number" value="{{ post.customer_phone }}">
            <span class="icon is-small is-left">
              <i class="fas fa-phone"></i>
            </span>
            <span class="icon is-small is-right">
                <i class="fas fa-check"></i>
            </span>
        </div>
    </div>

    {% endif %}

    <div class="field">
        <label for="description" class="label">Description</label>
        <div class="control">
          <textarea class="textarea" name="description" id="description" 
          placeholder="Textarea">{{ post.description }}</textarea>
        </div>
    </div>


    <div class="buttons has-addons is-right">
        <button type="submit" class="button is-link">Update
            {% if "equipment" in post %}
                Work Order
            {% else %}
                Incident 
            {% endif %}
            <i class="fas fa-save"></i>
        </button>
        <a class="button is-warning" href="{{ url_for('user.feed', user_email=session['user_email']) }}">Back <i class="fas fa-undo"></i></a>
    </div>

</form>

{% endblock %}